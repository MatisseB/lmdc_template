/*
 * Responsive Styles
 * Le Monde de Camille Theme
 *
 * Breakpoints:
 * - Desktop: > 1200px (three columns)
 * - Tablet landscape: 992px - 1200px (sidebars narrower)
 * - Tablet portrait: 768px - 991px (single column, sidebars below)
 * - Mobile: < 768px (single column, optimized for touch)
 */

/* ============================================
   EXTRA LARGE SCREENS (>1400px)
   ============================================ */
@media (min-width: 1401px) {
    #content-wrapper {
        width: 90%;
        gap: var(--spacing-xl);
    }

    .sidebar {
        width: 320px;
    }
}

/* ============================================
   LARGE SCREENS (1201px - 1400px)
   ============================================ */
@media (min-width: 1201px) and (max-width: 1400px) {
    #content-wrapper {
        width: 95%;
        gap: var(--spacing-lg);
    }

    .sidebar {
        width: 280px;
    }
}

/* ============================================
   DESKTOP (993px - 1200px) - Narrower sidebars
   ============================================ */
@media (min-width: 993px) and (max-width: 1200px) {
    #content-wrapper {
        width: 98%;
        gap: var(--spacing-md);
        padding: 0 var(--spacing-sm);
    }

    .sidebar {
        width: 220px;
        min-width: 200px;
    }

    main {
        flex: 1;
        min-width: 0;
    }

    /* Sidebar sections always full width */
    .sidebar-section {
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    .sidebar-section h3 {
        display: block;
        width: 100%;
        box-sizing: border-box;
        font-size: 0.85rem;
    }
}

/* ============================================
   TABLET LANDSCAPE (769px - 992px)
   Switch to single column with sidebars below
   ============================================ */
@media (min-width: 769px) and (max-width: 992px) {
    /* Header - title above image */
    .header-banner-wrapper {
        display: flex;
        flex-direction: column;
        min-height: auto;
    }

    .site-title-container {
        position: static;
        order: 1;
        width: 100%;
        max-width: 100%;
        text-align: center;
        padding: var(--spacing-md);
    }

    .logo {
        font-size: 2rem;
    }

    .header-banner-image {
        order: 2;
        height: 150px;
    }

    .search-wrapper {
        position: static;
        order: 0;
        text-align: right;
        padding: var(--spacing-sm) var(--spacing-md);
    }

    #content-wrapper {
        flex-direction: column;
        width: 90%;
        max-width: 800px;
        padding: 0 var(--spacing-md);
        gap: var(--spacing-lg);
    }

    main {
        width: 100%;
        order: 1;
        flex: none;
    }

    .sidebar {
        width: 100%;
        order: 2;
    }

    /* Sidebar sections full width in grid */
    .sidebar-section {
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    .sidebar-section h3 {
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    /* Menu toggle hidden on tablet landscape */
    .menu-toggle {
        display: none !important;
    }

    .nav-wrapper {
        display: block !important;
    }
}

/* ============================================
   TABLET PORTRAIT & MOBILE (<=768px)
   ============================================ */
@media (max-width: 768px) {
    :root {
        --font-size-base: 14px;
    }

    /* Body - same background as desktop */
    body {
        background: var(--body-bg);
    }

    /* Header - title above image */
    .header-banner-wrapper {
        display: flex;
        flex-direction: column;
        min-height: auto;
    }

    .header-banner-wrapper::before {
        display: none;
    }

    .site-title-container {
        position: static;
        order: 1;
        width: 100%;
        text-align: center;
        max-width: 100%;
        padding: var(--spacing-md);
    }

    .logo {
        font-size: 1.5rem;
        text-align: center;
    }

    .header-banner-image {
        order: 2;
        height: 100px;
    }

    .header-banner-image.has-image {
        background-size: auto 100px;
    }

    .search-wrapper {
        position: static;
        order: 0;
        text-align: center;
        padding: var(--spacing-sm) var(--spacing-md);
        background: rgba(0, 0, 0, 0.15);
    }

    .search-wrapper input[type="search"],
    .search-wrapper input[type="text"] {
        width: 100%;
        max-width: 280px;
    }

    /* Mobile Menu - Black background to match nav */
    .menu-toggle {
        display: block;
        background: var(--nav-bg);
        color: var(--nav-text);
    }

    .menu-toggle:hover {
        background: var(--nav-bg);
        opacity: 0.9;
    }

    .nav-wrapper {
        display: none;
        width: 100%;
        padding: 0;
    }

    .menu-toggle-checkbox:checked ~ .nav-wrapper {
        display: block;
    }

    .menu {
        flex-direction: column;
    }

    .menu > li {
        width: 100%;
    }

    .menu > li > a::after {
        display: none;
    }

    .submenu {
        position: static;
        box-shadow: none;
        border-radius: 0;
        background: rgba(0, 0, 0, 0.2);
        min-width: 100%;
        opacity: 1;
        transform: none;
        pointer-events: auto;
    }

    .submenu .submenu {
        margin-left: var(--spacing-md);
    }

    /* Layout - stack columns */
    #content-wrapper {
        flex-direction: column;
        width: 95%;
        padding: 0 var(--spacing-sm);
        gap: var(--spacing-md);
    }

    main {
        width: 100%;
        max-width: 100%;
        padding: var(--spacing-md);
        order: 1;
        border-radius: var(--radius-md);
    }

    .sidebar {
        width: 100%;
        order: 2;
        display: block;
    }

    /* Ensure sidebar sections and titles are full width on mobile */
    .sidebar-section {
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    .sidebar-section h3 {
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    /* Typography */
    h1 {
        font-size: 1.6rem;
    }

    h2 {
        font-size: 1.35rem;
    }

    h3 {
        font-size: 1.15rem;
    }

    /* Posts */
    .post-title {
        font-size: 1.2rem;
    }

    .single-post .post-title {
        font-size: 1.6rem;
    }

    .post-meta {
        flex-direction: column;
        gap: var(--spacing-xs);
        align-items: flex-start;
    }

    .post-footer {
        flex-direction: column;
        align-items: flex-start;
    }

    /* Post Navigation */
    #post-navigation,
    .post-nav {
        grid-template-columns: 1fr;
    }

    .post-nav .nav-next {
        grid-column: 1;
    }

    /* Author Bio */
    #author-bio,
    .author-card {
        flex-direction: column;
        text-align: center;
    }

    /* Related posts */
    #related-posts > div,
    .related-posts-grid {
        grid-template-columns: 1fr;
    }

    /* Footer */
    .footer-content .menu {
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-xs);
    }

    /* Back to top */
    .back-to-top {
        bottom: var(--spacing-md);
        right: var(--spacing-md);
        width: 44px;
        height: 44px;
    }

    /* Sidebar */
    .sidebar-section h3 {
        font-size: 0.85rem;
    }

    .language-selector {
        flex-wrap: wrap;
    }
}

/* ============================================
   EXTRA SMALL SCREENS (<=480px)
   ============================================ */
@media (max-width: 480px) {
    /* Header - title above image */
    .header-banner-wrapper {
        display: flex;
        flex-direction: column;
        min-height: auto;
    }

    .site-title-container {
        position: static;
        order: 1;
        width: 100%;
        text-align: center;
        max-width: 100%;
        padding: var(--spacing-sm);
    }

    .logo {
        font-size: 1.3rem;
    }

    .header-banner-image {
        display: none;
    }

    .search-wrapper {
        position: static;
        order: 0;
        text-align: center;
        padding: var(--spacing-xs) var(--spacing-sm);
    }

    #content-wrapper {
        width: 100%;
        padding: 0 var(--spacing-xs);
    }

    main {
        padding: var(--spacing-sm);
        border-radius: var(--radius-sm);
    }

    .pagination {
        flex-wrap: wrap;
    }

    .pagination a,
    .pagination span {
        min-width: 36px;
        height: 36px;
        font-size: 0.85rem;
    }

    .search-form {
        flex-direction: column;
    }

    .search-form button {
        width: 100%;
    }

    .error-404 h1,
    .error-page h1 {
        font-size: 3.5rem;
    }

    /* Image alignment resets */
    .post__image--left,
    .post__image--right {
        float: none;
        margin-left: 0;
        margin-right: 0;
        width: 100%;
    }

    .gallery {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ============================================
   PRINT STYLES
   ============================================ */
@media print {
    /* Hide non-essential elements */
    .sidebar,
    nav,
    .search-wrapper,
    footer,
    #post-navigation,
    .pagination,
    .back-to-top,
    .menu-toggle,
    #related-posts,
    .social-links,
    .tag-cloud {
        display: none !important;
    }

    /* Reset backgrounds */
    body {
        background: white;
        color: black;
    }

    main {
        width: 100%;
        padding: 0;
        background: white;
        box-shadow: none;
    }

    /* Links */
    a {
        color: black;
        text-decoration: underline;
    }

    /* Headings */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        color: black;
    }

    /* Posts */
    .post-item,
    article {
        box-shadow: none;
        border: 1px solid #ccc;
    }

    /* Images */
    img {
        max-width: 100% !important;
    }

    /* Page breaks */
    h1,
    h2,
    h3 {
        page-break-after: avoid;
    }

    article,
    .post-item {
        page-break-inside: avoid;
    }
}
